# vim: set filetype=sh:

# This is a way to quickly update to the latest Firefox.

fix_firefox () {
  pkill firefox
  [ -d /opt/firefox ] && sudo mv /opt/firefox{,.old}
  curl -L 'https://download.mozilla.org/?product=firefox-latest-ssl&os=linux64'|sudo tar jxf - -C /opt
  [ -d /opt/firefox.old -a -x /opt/firefox/firefox ] && sudo rm -rf /opt/firefox.old
  [ -f /usr/bin/firefox -o -L /usr/bin/firefox ] && sudo ln -sf /opt/firefox/firefox /usr/bin
  [ -f /usr/bin/iceweasel -o -L /usr/bin/iceweasel ] && sudo ln -sf /opt/firefox/firefox /usr/bin/iceweasel
  [ -f /usr/bin/firefox-esr -o -L /usr/bin/firefox-esr ] && sudo ln -sf /opt/firefox/firefox /usr/bin/firefox-esr
}
